<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>–†–µ–¥–∞–∫—Ç–æ—Ä –ø–æ—Å—Ç–æ–≤</title>
  <style>
    body {
      font-family: sans-serif;
      background-color: #f4f4f4;
      padding: 20px;
      max-width: 1000px;
      margin: auto;
    }
    h2 {
      margin-bottom: 10px;
    }
    textarea {
      width: 100%;
      height: 200px;
      font-size: 16px;
      font-family: sans-serif;
      padding: 15px;
      border-radius: 6px;
      border: 1px solid #ccc;
      resize: vertical;
      box-shadow: 0 2px 6px rgba(0,0,0,0.05);
      margin-bottom: 10px;
    }
    .info {
      font-size: 14px;
      color: #666;
      margin-bottom: 20px;
    }
    button {
      padding: 10px 20px;
      margin-bottom: 10px;
      margin-right: 10px;
      cursor: pointer;
    }
    .preview {
      background-color: #fff;
      padding: 15px;
      border-radius: 8px;
      border: 1px solid #ddd;
      box-shadow: 0 1px 4px rgba(0,0,0,0.05);
      font-size: 15px;
      white-space: pre-wrap;
      margin-top: 10px;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;
    }
    .label {
      margin-top: 20px;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <h2>üìù –†–µ–¥–∞–∫—Ç–æ—Ä –ø–æ—Å—Ç–æ–≤ –¥–ª—è Discord –∏ Twitter</h2>
  <p>–†–µ–¥–∞–∫—Ç–∏—Ä—É–π –ø–æ—Å—Ç —Å —ç–º–æ–¥–∑–∏, —Ç–µ–∫—Å—Ç–æ–º –∏ —Å—Å—ã–ª–∫–∞–º–∏. –í—Å—ë —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤ –±—Ä–∞—É–∑–µ—Ä–µ.</p>
  <textarea id="editor" placeholder="–ù–∞–ø–∏—à–∏ –ø–æ—Å—Ç –∑–¥–µ—Å—å..."></textarea>
  <div class="info">–ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤–∫–ª—é—á–µ–Ω–æ. –î–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ –≤–∞—à–µ–º –±—Ä–∞—É–∑–µ—Ä–µ.</div>
  <button onclick="copyEditor()">üìã –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
  <button onclick="clearEditor()">üßπ –û—á–∏—Å—Ç–∏—Ç—å</button>
  <button onclick="replaceEmojiCodes()">üîÅ –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å :emoji: ‚Üí üòä</button>

  <div class="label">–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä:</div>
  <div class="preview" id="preview"></div>

  <script>
    const editor = document.getElementById('editor');
    const preview = document.getElementById('preview');
    const editorKey = 'postEditorContent';

    const emojiMap = {
      ':bell:': 'üîî',
      ':name_badge:': 'üìõ',
      ':link:': 'üîó',
      ':closed_lock_with_key:': 'üîê',
      ':white_check_mark:': '‚úÖ',
      ':new:': 'üÜï',
      ':fire:': 'üî•',
      ':eyes:': 'üëÄ',
      ':star:': '‚≠ê',
      ':rocket:': 'üöÄ',
      ':chart_with_upwards_trend:': 'üìà',
      ':warning:': '‚ö†Ô∏è',
      ':tada:': 'üéâ',
      ':moneybag:': 'üí∞',
      ':thinking_face:': 'ü§î',
      ':smile:': 'üòÑ',
      ':wave:': 'üëã'
    };

    function updatePreview() {
      preview.textContent = editor.value;
    }

    function replaceEmojiCodes() {
      let text = editor.value;
      for (const code in emojiMap) {
        const regex = new RegExp(code.replace(/([.*+?^=!:${}()|[\]\\])/g, "\\$1"), 'g');
        text = text.replace(regex, emojiMap[code]);
      }
      editor.value = text;
      localStorage.setItem(editorKey, text);
      updatePreview();
    }

    window.addEventListener('DOMContentLoaded', () => {
      const saved = localStorage.getItem(editorKey);
      if (saved) {
        editor.value = saved;
      }
      updatePreview();
    });

    editor.addEventListener('input', () => {
      localStorage.setItem(editorKey, editor.value);
      updatePreview();
    });

    function copyEditor() {
      editor.select();
      document.execCommand('copy');
      alert('–ü–æ—Å—Ç —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω!');
    }

    function clearEditor() {
      if (confirm('–û—á–∏—Å—Ç–∏—Ç—å —Ç–µ–∫—Å—Ç?')) {
        editor.value = '';
        localStorage.removeItem(editorKey);
        updatePreview();
      }
    }
  </script>
</body>
</html>
